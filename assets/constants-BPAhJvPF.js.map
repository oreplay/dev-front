{"version":3,"file":"constants-BPAhJvPF.js","sources":["../../src/pages/Results/services/FetchHooks.ts","../../src/pages/Results/pages/Results/shared/constants.ts"],"sourcesContent":["import { useQuery } from \"react-query\"\nimport { AxiosError } from \"axios\"\nimport { Data, EventDetailModel } from \"../../../shared/EntityTypes.ts\"\nimport { getEventDetail } from \"./EventService.ts\"\nimport { useAuth } from \"../../../shared/hooks.ts\"\n\ninterface EmptyModel {}\n\n//export function useGet<T,D>(function) {\n//  return useQuery<T, D>({})\n//}\n\nexport function genericRetryHandler(failureCount: number, error: AxiosError): boolean {\n  if (error.response && error.response.status < 500) {\n    return false\n  }\n  return failureCount < 3\n}\n\nexport function useFetchEventDetail(id: string) {\n  const { token } = useAuth()\n\n  return useQuery<Data<EventDetailModel>, AxiosError<Data<EventDetailModel>, EmptyModel>>(\n    [\"eventDetail\", id], // Query key\n    () => getEventDetail(id, token ? token : undefined), // Query function\n    {\n      enabled: !!id, // Only fetch if id exists\n      refetchOnWindowFocus: false,\n      retry: genericRetryHandler,\n    },\n  )\n}\n","export const STAGE_TYPE_DATABASE_ID = {\n  FootO: \"29d5050b-4769-4be5-ace4-7e5973f68e3c\",\n  Rogaine: \"2b5de3d0-9bc9-435a-8bd9-2d4060b86e45\",\n  Relay: \"9a918410-6dda-4c58-bec9-23839b336e59\",\n  Totals: \"3d4cf037-64d6-442c-969d-35452048daf9\",\n}\n\nexport const UPLOAD_TYPES = {\n  ONLINE_SPLITS: \"res_intermediates\",\n  SPLIT_RESULT: \"res_splits\",\n  FINAL_RESULT: \"res_finish\",\n  START_TIMES: \"start_list\",\n}\n"],"names":["genericRetryHandler","failureCount","error","useFetchEventDetail","id","token","useAuth","useQuery","getEventDetail","STAGE_TYPE_DATABASE_ID","UPLOAD_TYPES"],"mappings":"2cAYO,SAASA,EAAoBC,EAAsBC,EAA4B,CACpF,OAAIA,EAAM,UAAYA,EAAM,SAAS,OAAS,IACrC,GAEFD,EAAe,CACxB,CAEO,SAASE,EAAoBC,EAAY,CAC9C,KAAM,CAAE,MAAAC,CAAA,EAAUC,EAAA,EAElB,OAAOC,EACL,CAAC,cAAeH,CAAE,EAClB,IAAMI,EAAeJ,EAAIC,GAAgB,MAAS,EAClD,CACE,QAAS,CAAC,CAACD,EACX,qBAAsB,GACtB,MAAOJ,CAAA,CACT,CAEJ,CC/BO,MAAMS,EAAyB,CACpC,MAAO,uCACP,QAAS,uCACT,MAAO,uCACP,OAAQ,sCACV,EAEaC,EAAe,CAC1B,cAAe,oBACf,aAAc,aACd,aAAc,aACd,YAAa,YACf"}