{"version":3,"file":"VirtualTicketControl-BdTM1j2v.js","sources":["../../node_modules/@mui/icons-material/esm/Timeline.js","../../src/pages/Results/components/StartTime.tsx","../../src/pages/Results/components/VirtualTicket/VirtualTicketHeader.tsx","../../src/pages/Results/components/VirtualTicket/VirtualTicketSplits/components/VirtualTicketNoDownloadMsg.tsx","../../src/pages/Results/components/VirtualTicket/VirtualTicketSplits/VirtualTicketSplits.tsx","../../src/pages/Results/components/VirtualTicket/VirtualTicketRunnerInfo.tsx","../../src/pages/Results/components/VirtualTicket/VirtualTicketControl.tsx"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2\"\n}), 'Timeline');","import React, { CSSProperties } from \"react\"\nimport { parseStartTime } from \"../../../shared/Functions.tsx\"\nimport { useTranslation } from \"react-i18next\"\nimport { Typography } from \"@mui/material\"\nimport { RESULT_STATUS } from \"../shared/constants.ts\"\nimport Status from \"./Status.tsx\"\n\ntype StartTimeProps = {\n  displayStatus?: boolean\n  startTime: string | null\n  status?: string\n  style?: CSSProperties\n}\n\nconst StartTime: React.FC<StartTimeProps> = ({ startTime, status, displayStatus, style }) => {\n  const { t } = useTranslation()\n  if (startTime == null) {\n    if (status != RESULT_STATUS.ok && displayStatus && status) {\n      return <Status status={status} />\n    } else {\n      return t(\"ResultsStage.NoStartTime\")\n    }\n  } else {\n    const start = parseStartTime(startTime)\n\n    return <Typography style={style}>{start}</Typography>\n  }\n}\n\nexport default StartTime\n","import React from \"react\"\n\ntype VirtualTicketHeaderProps = {\n  children?: React.ReactNode\n}\n\nexport const VirtualTicketHeader: React.FC<VirtualTicketHeaderProps> = ({ children }) => {\n  return <>{children}</>\n}\n","import { Box, Typography } from \"@mui/material\"\nimport { useTranslation } from \"react-i18next\"\n\nexport default function VirtualTicketNoDownloadMsg() {\n  const { t } = useTranslation()\n\n  return (\n    <Box\n      sx={{\n        height: \"100%\",\n        width: \"100%\",\n        marginY: \"2em\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n      }}\n    >\n      <Typography sx={{ color: \"text.secondary\", fontSize: \"small\" }}>\n        {t(\"ResultsStage.VirtualTicket.NoDownloadMsg\")}\n      </Typography>\n    </Box>\n  )\n}\n","import React from \"react\"\nimport VirtualTicketNoDownloadMsg from \"./components/VirtualTicketNoDownloadMsg.tsx\"\n\ntype VirtualTicketSplitsProps = {\n  children?: React.ReactNode\n  download: boolean\n  isDNS?: boolean\n}\n\nexport const VirtualTicketSplits: React.FC<VirtualTicketSplitsProps> = ({\n  children,\n  download,\n  isDNS,\n}) => {\n  // console.log(isDNS)\n  if (download && !isDNS) {\n    return <>{children}</>\n  } else {\n    return <VirtualTicketNoDownloadMsg />\n  }\n}\n","import React, { useContext } from \"react\"\nimport { ProcessedRunnerModel } from \"./shared/EntityTypes.ts\"\nimport Grid from \"@mui/material/Grid\"\nimport { Box, Link, SxProps, Typography } from \"@mui/material\"\nimport { useTranslation } from \"react-i18next\"\nimport { VirtualTicketContext } from \"./shared/context.tsx\"\n\ntype VirtualTicketRunnerInfoProps = {\n  runner: ProcessedRunnerModel\n  setClassClubId: (newClassOrClubId: string, isClass: boolean) => void\n}\n\n/**\n * Display a runners name, club and class within a virtual ticket.\n * @param runner Runner to be displayed\n * @param setClassClubId The function to change to another class or club. It is used to provide links with-in the club and club fields\n */\nconst VirtualTicketRunnerInfo: React.FC<VirtualTicketRunnerInfoProps> = ({\n  runner,\n  setClassClubId,\n}) => {\n  const { t } = useTranslation()\n  const textStyles: SxProps = {\n    fontSize: \"small\",\n    color: \"text.secondary\",\n    textDecoration: \"none\",\n  }\n\n  // Click handlers\n  const { handleClose } = useContext(VirtualTicketContext)\n  const handleClassClick = () => {\n    setClassClubId(runner.class.id, true)\n    handleClose()\n  }\n  const handleClubClick = () => {\n    if (runner.club) {\n      setClassClubId(runner.club.id, false)\n      handleClose()\n    }\n  }\n\n  // Actual compontet\n  return (\n    <Grid item xs={12} sx={{ mb: 1 }}>\n      <Typography sx={{ fontWeight: \"bold\" }}>{`${runner.full_name}`}</Typography>\n      <Box\n        sx={{\n          width: \"100%\",\n          display: \"inline-flex\",\n          justifyContent: \"space-between\",\n        }}\n      >\n        <Link\n          sx={{\n            ...textStyles,\n            cursor: runner.club ? \"pointer\" : undefined,\n            \"&hover\": {\n              backgroundColor: runner.club ? \"#fffbf0\" : undefined,\n            },\n          }}\n          onClick={handleClubClick}\n        >\n          {runner.club ? `${runner.club.short_name}` : t(\"ResultsStage.NoClubMsg\")}\n        </Link>\n        <Link\n          sx={{\n            ...textStyles,\n            cursor: \"pointer\",\n            \"&hover\": {\n              backgroundColor: \"#fffbf0\",\n            },\n          }}\n          onClick={handleClassClick}\n        >\n          {runner.class.short_name}\n        </Link>\n      </Box>\n    </Grid>\n  )\n}\n\nexport default VirtualTicketRunnerInfo\n","import React, { CSSProperties } from \"react\"\nimport { ControlModel } from \"../../../../shared/EntityTypes.ts\"\nimport Grid from \"@mui/material/Grid\"\nimport { Box, Typography } from \"@mui/material\"\nimport { useTranslation } from \"react-i18next\"\n\ntype VirtualTicketControlProps = {\n  order_number: number | bigint | null\n  points?: bigint | number | null\n  control: ControlModel | null\n  gridWidth: number\n}\n\n/**\n * Display a control with the order and its code number\n * @param order_number punched order of the control\n * @param points points given by this control\n * @param control control that represents\n * @param gridWidth xs width of the control element\n */\nconst VirtualTicketControl: React.FC<VirtualTicketControlProps> = ({\n  order_number,\n  points,\n  control,\n  gridWidth,\n}) => {\n  const { t } = useTranslation()\n\n  const textStyles: CSSProperties = {\n    fontSize: \"small\",\n  }\n\n  // Finish control\n  if (order_number === Infinity) {\n    return (\n      <Grid sx={{ display: \"flex\", justifyContent: \"center\" }} item xs={gridWidth}>\n        <Typography sx={textStyles}>{t(\"ResultsStage.VirtualTicket.FinishControl\")}</Typography>\n      </Grid>\n    )\n  }\n  // Regular control\n  else {\n    return (\n      <Grid item xs={gridWidth}>\n        <Box\n          sx={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            flexWrap: \"wrap\",\n            justifyContent: \"center\",\n          }}\n        >\n          <Typography>{order_number?.toString()}</Typography>\n          <Typography sx={{ ml: \"2px\", color: \"text.secondary\" }}>\n            ({control?.station.toString()})\n          </Typography>\n          {points ? <Typography sx={textStyles}>{`[${points}]`}</Typography> : <></>}\n        </Box>\n      </Grid>\n    )\n  }\n}\n\nexport default VirtualTicketControl\n"],"names":["TimelineIcon","createSvgIcon","_jsx","StartTime","startTime","status","displayStatus","style","t","useTranslation","RESULT_STATUS","ok","Status","start","parseStartTime","Typography","children","VirtualTicketHeader","_Fragment","VirtualTicketNoDownloadMsg","Box","sx","height","width","marginY","display","alignItems","justifyContent","color","fontSize","VirtualTicketSplits","download","isDNS","VirtualTicketRunnerInfo","runner","setClassClubId","textStyles","textDecoration","handleClose","useContext","VirtualTicketContext","handleClassClick","class","id","handleClubClick","club","Grid","item","xs","mb","fontWeight","full_name","_jsxs","Link","cursor","undefined","backgroundColor","onClick","short_name","VirtualTicketControl","order_number","points","control","gridWidth","Infinity","flexDirection","flexWrap","toString","ml","station"],"mappings":"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","x_google_ignoreList":[0]}