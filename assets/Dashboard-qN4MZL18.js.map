{"version":3,"file":"Dashboard-qN4MZL18.js","sources":["../../node_modules/@mui/icons-material/esm/Visibility.js","../../node_modules/@mui/icons-material/esm/VisibilityOff.js","../../src/pages/Administration/pages/Dashboard/Dashboard.tsx"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3\"\n}), 'Visibility');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z\"\n}), 'VisibilityOff');","import { Box, Container, Typography } from \"@mui/material\"\nimport { useTranslation } from \"react-i18next\"\nimport { GridColDef, DataGrid, GridRowParams } from \"@mui/x-data-grid\"\nimport { useEffect, useState } from \"react\"\nimport { getEventsFromUser } from \"../../services/EventAdminService.ts\"\nimport { useNavigate } from \"react-router-dom\"\nimport Button from \"@mui/material/Button\"\nimport AddIcon from \"@mui/icons-material/Add\"\nimport VisibilityIcon from \"@mui/icons-material/Visibility\"\nimport VisibilityOffIcon from \"@mui/icons-material/VisibilityOff\"\nimport { EventModel, UserModel } from \"../../../../shared/EntityTypes.ts\"\nimport { useAuth } from \"../../../../shared/hooks.ts\"\n\ninterface EventDataGridColumns {\n  id: string\n  startDate: string\n  endDate: string\n  name: string\n  isHidden: boolean\n}\n\nexport default function Dashboard() {\n  const { t } = useTranslation()\n  const { user, token } = useAuth()\n  const [isLoading, setIsLoading] = useState<boolean>(true)\n  const rowsPerPage = 15\n  const [totalRows, setTotalRows] = useState<number>(0)\n  const [page, setPage] = useState<number>(0)\n  const navigate = useNavigate()\n\n  function handleClick(params: GridRowParams) {\n    void navigate(`/admin/${params.id}`)\n  }\n\n  const [rows, setRows] = useState<EventDataGridColumns[]>([])\n  useEffect(() => {\n    const response = getEventsFromUser(\n      (user as UserModel).id,\n      token as string,\n      page + 1,\n      rowsPerPage,\n    )\n    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n    response.then((response) => {\n      setRows(\n        response.data.map(\n          (event: EventModel): EventDataGridColumns => ({\n            id: event.id,\n            startDate: event.initial_date,\n            endDate: event.final_date,\n            name: event.description,\n            isHidden: event.is_hidden,\n          }),\n        ),\n      )\n      setTotalRows(response.total)\n      setIsLoading(false)\n    })\n    return () => setIsLoading(true)\n  }, [page, user, token])\n\n  const columns: GridColDef[] = [\n    { field: \"startDate\", headerName: t(\"Dashboard.StartDate\"), width: 150 },\n    { field: \"endDate\", headerName: t(\"Dashboard.FinishDate\"), width: 130 },\n    { field: \"name\", headerName: t(\"Dashboard.Name\"), flex: 1, minWidth: 200 },\n    {\n      field: \"visibility\",\n      headerName: \"\",\n      width: 20,\n      renderCell: (params) => {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        if (params.row.isHidden) {\n          return <VisibilityOffIcon color={\"disabled\"} />\n        } else {\n          return <VisibilityIcon color={\"action\"} />\n        }\n      },\n    },\n  ]\n\n  return (\n    <Box sx={{ height: \"100%\" }}>\n      <Container>\n        <Typography variant=\"h1\" color=\"primary.main\">\n          {t(\"Dashboard.YourEvents\")}\n        </Typography>\n        <Box sx={{ mb: \"10px\" }}>\n          <Button onClick={() => void navigate(\"/admin/create-event\")} variant=\"contained\">\n            <AddIcon />\n          </Button>\n        </Box>\n        <DataGrid\n          columns={columns}\n          loading={isLoading}\n          rows={rows}\n          rowCount={totalRows}\n          paginationMode={\"server\"}\n          paginationModel={{ page: page, pageSize: rowsPerPage }}\n          onPaginationModelChange={(model) => {\n            setPage(model.page)\n          }}\n          onRowClick={handleClick}\n        />\n      </Container>\n    </Box>\n  )\n}\n"],"names":["VisibilityIcon","createSvgIcon","_jsx","VisibilityOffIcon","Dashboard","t","useTranslation","user","token","useAuth","isLoading","setIsLoading","useState","rowsPerPage","totalRows","setTotalRows","page","setPage","navigate","useNavigate","handleClick","params","id","rows","setRows","useEffect","getEventsFromUser","then","response","data","map","event","startDate","initial_date","endDate","final_date","name","description","isHidden","is_hidden","total","columns","field","headerName","width","flex","minWidth","renderCell","row","color","Box","sx","height","children","Container","Typography","variant","mb","Button","onClick","AddIcon","DataGrid","loading","rowCount","paginationMode","paginationModel","pageSize","onPaginationModelChange","model","onRowClick"],"mappings":"g5BAIA,MAAAA,EAAeC,EAA2BC,EAAK,OAAQ,CACrD,EAAG,gNACL,CAAC,EAAG,YAAY,ECFhBC,EAAeF,EAA2BC,EAAK,OAAQ,CACrD,EAAG,0eACL,CAAC,EAAG,eAAe,ECenB,SAAwBE,GAAY,CAClC,KAAM,CAAEC,EAAAA,CAAAA,EAAMC,EAAAA,EACR,CAAEC,KAAAA,EAAMC,MAAAA,CAAAA,EAAUC,EAAAA,EAClB,CAACC,EAAWC,CAAY,EAAIC,EAAAA,SAAkB,EAAI,EAClDC,EAAc,GACd,CAACC,EAAWC,CAAY,EAAIH,EAAAA,SAAiB,CAAC,EAC9C,CAACI,EAAMC,CAAO,EAAIL,EAAAA,SAAiB,CAAC,EACpCM,EAAWC,EAAAA,EAEjB,SAASC,EAAYC,EAAuB,CACrCH,EAAS,UAAUG,EAAOC,EAAE,EAAE,CACrC,CAEA,KAAM,CAACC,EAAMC,CAAO,EAAIZ,EAAAA,SAAiC,CAAA,CAAE,EAC3Da,EAAAA,UAAU,KACSC,EACdnB,EAAmBe,GACpBd,EACAQ,EAAO,EACPH,CACF,EAESc,KAAMC,GAAa,CAC1BJ,EACEI,EAASC,KAAKC,IACXC,IAA6C,CAC5CT,GAAIS,EAAMT,GACVU,UAAWD,EAAME,aACjBC,QAASH,EAAMI,WACfC,KAAML,EAAMM,YACZC,SAAUP,EAAMQ,SAAAA,EAEpB,CACF,EACAxB,EAAaa,EAASY,KAAK,EAC3B7B,EAAa,EAAK,CACpB,CAAC,EACM,IAAMA,EAAa,EAAI,GAC7B,CAACK,EAAMT,EAAMC,CAAK,CAAC,EAEtB,MAAMiC,EAAwB,CAC5B,CAAEC,MAAO,YAAaC,WAAYtC,EAAE,qBAAqB,EAAGuC,MAAO,GAAA,EACnE,CAAEF,MAAO,UAAWC,WAAYtC,EAAE,sBAAsB,EAAGuC,MAAO,GAAA,EAClE,CAAEF,MAAO,OAAQC,WAAYtC,EAAE,gBAAgB,EAAGwC,KAAM,EAAGC,SAAU,GAAA,EACrE,CACEJ,MAAO,aACPC,WAAY,GACZC,MAAO,GACPG,WAAa1B,GAEPA,EAAO2B,IAAIV,WACLnC,EAAiB,CAAC8C,MAAO,UAAA,CAAa,IAEtCjD,EAAc,CAACiD,MAAO,QAAA,CAAW,CAE7C,CACD,EAGH,SACGC,EAAG,CAACC,GAAI,CAAEC,OAAQ,MAAA,EAASC,WACzBC,EAAS,CAAAD,SAAA,CACRnD,EAACqD,EAAU,CAACC,QAAQ,KAAKP,MAAM,eAAcI,SAC1ChD,EAAE,sBAAsB,CAAA,CACf,EACZH,EAACgD,EAAG,CAACC,GAAI,CAAEM,GAAI,MAAA,EAASJ,WACrBK,EAAM,CAACC,QAASA,IAAM,KAAKzC,EAAS,qBAAqB,EAAGsC,QAAQ,YAAWH,SAC9EnD,EAAC0D,EAAO,CAAA,CAAE,CAAA,CACJ,CAAA,CACL,EACL1D,EAAC2D,EAAQ,CACPpB,QAAAA,EACAqB,QAASpD,EACTa,KAAAA,EACAwC,SAAUjD,EACVkD,eAAgB,SAChBC,gBAAiB,CAAEjD,KAAAA,EAAYkD,SAAUrD,CAAAA,EACzCsD,wBAA0BC,GAAU,CAClCnD,EAAQmD,EAAMpD,IAAI,CACpB,EACAqD,WAAYjD,CAAAA,CACb,CAAC,CAAA,CACO,CAAA,CACR,CAET","x_google_ignoreList":[0,1]}